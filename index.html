<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Andy Wang | Quant Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.160.0/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f2ff;
            --bg-dark: #020202;
            --panel-bg: rgba(5, 5, 5, 0.9);
            --border-color: rgba(0, 242, 255, 0.4);
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            background-color: var(--bg-dark);
            font-family: 'JetBrains Mono', monospace;
            color: #ffffff;
        }

        #canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0; /* Background */
        }

        .overlay {
            position: relative;
            z-index: 10;
            pointer-events: none;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 30px;
            box-sizing: border-box;
        }

        .pointer-events-auto { pointer-events: auto; }

        /* HUD & Glitch */
        .glitch-title {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--neon-blue);
            text-transform: uppercase;
            letter-spacing: 5px;
            position: relative;
            display: inline-block;
        }

        .glitch-title::before {
            content: "ANDY WANG";
            position: absolute; top: 0; left: -2px;
            width: 100%; height: 100%;
            text-shadow: 2px 0 red;
            clip: rect(44px, 450px, 56px, 0);
            animation: glitch-anim 5s infinite linear alternate-reverse;
        }

        @keyframes glitch-anim {
            0% { clip: rect(31px, 9999px, 94px, 0); }
            20% { clip: rect(62px, 9999px, 42px, 0); }
            100% { clip: rect(10px, 9999px, 85px, 0); }
        }

        .system-metrics {
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            padding: 12px;
            font-size: 0.7rem;
            width: 220px;
        }

        .metric-row { display: flex; justify-content: space-between; margin-bottom: 2px; }
        .label { color: var(--neon-blue); opacity: 0.6; }

        /* Content Panel */
        .profile-panel {
            width: 380px;
            background: var(--panel-bg);
            border-left: 2px solid var(--neon-blue);
            padding: 20px;
            pointer-events: auto;
            max-height: 60vh;
            overflow-y: auto;
        }

        h2 { font-size: 0.9rem; color: var(--neon-blue); text-transform: uppercase; margin-top: 20px; border-bottom: 1px solid var(--border-color); padding-bottom: 5px;}
        p { font-size: 0.75rem; line-height: 1.6; opacity: 0.8; }

        .exp-item { margin-bottom: 15px; }
        .role { font-weight: bold; font-size: 0.8rem; }
        .comp { color: var(--neon-blue); font-size: 0.75rem; }

        /* Morph Buttons */
        .controls {
            display: flex; gap: 10px; pointer-events: auto;
        }

        .btn-morph {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-blue);
            padding: 8px 15px;
            font-family: inherit;
            font-size: 0.7rem;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-morph:hover { background: var(--neon-blue); color: #000; box-shadow: 0 0 10px var(--neon-blue); }

        ::-webkit-scrollbar { width: 3px; }
        ::-webkit-scrollbar-thumb { background: var(--neon-blue); }
    </style>
</head>
<body>

    <div id="canvas-container"></div>

    <div class="overlay">
        <div style="display: flex; justify-content: space-between;">
            <div>
                <div class="glitch-title">ANDY WANG</div>
                <div style="font-size: 0.7rem; opacity: 0.6; margin-top: 5px;">MFRM | QUANTITATIVE DATA STRATEGIST</div>
            </div>
            <div class="system-metrics">
                <div class="metric-row"><span class="label">ENGINE:</span> <span>GLSL_CORE_V3</span></div>
                <div class="metric-row"><span class="label">PARTICLES:</span> <span>100,000</span></div>
                <div class="metric-row"><span class="label">STATUS:</span> <span>SYSTEM_READY</span></div>
                <div class="metric-row"><span class="label">LATENCY:</span> <span id="fps">16ms</span></div>
            </div>
        </div>

        <div class="profile-panel">
            <h2>Executive Summary</h2>
            [cite_start]<p>Master of Financial Risk Management graduate from Rotman[cite: 14, 59]. [cite_start]Specialized in bridging the gap between quantitative finance and high-performance data automation[cite: 17, 21].</p>
            
            <h2>Technical Stack</h2>
            [cite_start]<p>Python (Pandas, Numpy, Matplotlib), SQL, Alteryx, LangChain, Azure OpenAI (GPT-4 RAG)[cite: 5, 6, 7, 38].</p>

            <h2>Experience</h2>
            <div class="exp-item">
                <div class="role">Manager, Data Process Automation</div>
                <div class="comp">Scotiabank | 2024 - Present</div>
                [cite_start]<p>Developing Python automation for daily data validation and SFT data generation[cite: 21, 24].</p>
            </div>
            <div class="exp-item">
                <div class="role">Investment Risk Analyst</div>
                <div class="comp">Ontario Teachers' Pension Plan</div>
                [cite_start]<p>Built a GPT-4 powered loan agreement review tool with 99% accuracy[cite: 34, 38, 39].</p>
            </div>
        </div>

        <div class="controls">
            <button class="btn-morph" onclick="handleMorph(0)">SPHERE_V1</button>
            <button class="btn-morph" onclick="handleMorph(1)">TORUS_DATA</button>
            <button class="btn-morph" onclick="handleMorph(2)">ENTROPY_CLOUD</button>
            <button class="btn-morph" onclick="handleMorph(3)">BLOCK_CUBE</button>
        </div>
    </div>

    <script id="vertexShader" type="x-shader/x-vertex">
        uniform float uTime;
        uniform float uMorph;
        attribute vec3 positionA;
        attribute vec3 positionB;

        varying vec3 vColor;

        // Simple Noise for movement
        float hash(float n) { return fract(sin(n) * 43758.5453123); }
        
        void main() {
            vec3 pos = mix(positionA, positionB, uMorph);
            
            // Subtle harmonic vibration
            pos.x += sin(uTime * 0.5 + pos.y) * 0.1;
            pos.y += cos(uTime * 0.5 + pos.x) * 0.1;

            vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);
            gl_PointSize = (12.0 / -mvPosition.z);
            gl_Position = projectionMatrix * mvPosition;

            vColor = mix(vec3(0.0, 0.8, 1.0), vec3(0.0, 0.3, 0.5), sin(uTime + pos.z) * 0.5 + 0.5);
        }
    </script>

    <script id="fragmentShader" type="x-shader/x-fragment">
        varying vec3 vColor;
        void main() {
            float d = distance(gl_PointCoord, vec2(0.5));
            if (d > 0.5) discard;
            gl_FragColor = vec4(vColor, 0.8 * (1.0 - d * 2.0));
        }
    </script>

    <script>
        let scene, camera, renderer, material, geometry;
        let currentIdx = 0;
        const count = 100000;
        const shapes = [];

        function generateShapes() {
            const sphere = new Float32Array(count * 3);
            const torus = new Float32Array(count * 3);
            const cloud = new Float32Array(count * 3);
            const cube = new Float32Array(count * 3);

            for(let i=0; i<count; i++) {
                let i3 = i*3;
                
                // Sphere
                const phi = Math.acos(-1 + (2 * i) / count);
                const theta = Math.sqrt(count * Math.PI) * phi;
                sphere[i3] = Math.cos(theta) * Math.sin(phi) * 2.5;
                sphere[i3+1] = Math.sin(theta) * Math.sin(phi) * 2.5;
                sphere[i3+2] = Math.cos(phi) * 2.5;

                // Torus
                const u = Math.random() * Math.PI * 2;
                const v = Math.random() * Math.PI * 2;
                const R = 2.2, r = 0.7;
                torus[i3] = (R + r * Math.cos(v)) * Math.cos(u);
                torus[i3+1] = (R + r * Math.cos(v)) * Math.sin(u);
                torus[i3+2] = r * Math.sin(v);

                // Cloud
                cloud[i3] = (Math.random() - 0.5) * 7;
                cloud[i3+1] = (Math.random() - 0.5) * 7;
                cloud[i3+2] = (Math.random() - 0.5) * 7;

                // Cube
                cube[i3] = (Math.random() - 0.5) * 4;
                cube[i3+1] = (Math.random() - 0.5) * 4;
                cube[i3+2] = (Math.random() - 0.5) * 4;
            }
            return [sphere, torus, cloud, cube];
        }

        function init() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.z = 6;

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            const data = generateShapes();
            shapes.push(...data);

            geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(shapes[0], 3)); // Placeholder
            geometry.setAttribute('positionA', new THREE.BufferAttribute(shapes[0], 3));
            geometry.setAttribute('positionB', new THREE.BufferAttribute(shapes[1], 3));

            material = new THREE.ShaderMaterial({
                uniforms: { uTime: { value: 0 }, uMorph: { value: 0 } },
                vertexShader: document.getElementById('vertexShader').textContent,
                fragmentShader: document.getElementById('fragmentShader').textContent,
                transparent: true, blending: THREE.AdditiveBlending, depthWrite: false
            });

            const points = new THREE.Points(geometry, material);
            scene.add(points);

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }

        function handleMorph(targetIdx) {
            if(targetIdx === currentIdx) return;

            // Update attributes: A is where we are, B is where we go
            geometry.setAttribute('positionA', new THREE.BufferAttribute(shapes[currentIdx], 3));
            geometry.setAttribute('positionB', new THREE.BufferAttribute(shapes[targetIdx], 3));
            material.uniforms.uMorph.value = 0;

            const tl = gsap.timeline();
            tl.to(camera.position, { z: 9, duration: 0.4, ease: "power2.in" });
            tl.to(material.uniforms.uMorph, { 
                value: 1, duration: 1.2, ease: "expo.inOut",
                onComplete: () => { currentIdx = targetIdx; }
            }, "-=0.2");
            tl.to(camera.position, { z: 6, duration: 0.8, ease: "back.out(1.7)" });
        }

        function animate(t) {
            requestAnimationFrame(animate);
            material.uniforms.uTime.value = t * 0.001;
            scene.rotation.y += 0.002;
            renderer.render(scene, camera);
        }

        init();
        animate(0);
    </script>
</body>
</html>
